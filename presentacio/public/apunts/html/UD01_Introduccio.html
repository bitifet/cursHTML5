<!DOCTYPE HTML>
<html>
<head>
<title>UD01_Introduccio</title>
<link rel="stylesheet" type="text/css" href="/stylesheets/apunts.css" />
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>

<h1 id="ud01---introducci√≥-a-html5-css-i-eines-de-preprocessat">UD01 - Introducci√≥ a HTML5, CSS i eines de preprocessat</h1>
<p><a href="./Planificacio.html">(‚áß Planificacio)</a></p>
<h1 id="√≠ndex">√çndex</h1>
<!-- vim-markdown-toc GFM -->
<ul>
<li><a href="#introducci√≥">Introducci√≥</a>
<ul>
<li><a href="#hist√≤ria">Hist√≤ria</a>
<ul>
<li><a href="#abans-de-html5">Abans de HTML5</a></li>
<li><a href="#a-partir-dhtml5">A partir d'HTML5</a></li>
</ul></li>
<li><a href="#ecosistema-html-5">Ecosistema HTML 5</a>
<ul>
<li><a href="#llenguatge-de-marques-markup">Llenguatge de Marques (Markup)</a>
<ul>
<li><a href="#elements-tags">Elements (Tags)</a>
<ul>
<li><a href="#anatomia">Anatomia</a></li>
<li><a href="#custom-elements">Custom Elements</a></li>
</ul></li>
<li><a href="#atributs">Atributs</a>
<ul>
<li><a href="#atributs-data-xxx">Atributs &quot;data-xxx&quot;</a></li>
</ul></li>
<li><a href="#estructura-de-lhtml">Estructura de l'HTML</a>
<ul>
<li><a href="#elements-de-la-cap√ßalera">Elements de la Cap√ßalera</a></li>
<li><a href="#elements-del-cos">Elements del Cos</a></li>
</ul></li>
<li><a href="#refer√®ncies">Refer√®ncies</a></li>
</ul></li>
<li><a href="#formularis">Formularis</a>
<ul>
<li><a href="#nous-tipus-de-camps-a-html5">Nous tipus de camps a HTML5</a></li>
<li><a href="#nous-atributs-per-a-camps-de-formularis-a-html5">Nous atributs per a camps de formularis a HTML5</a></li>
<li><a href="#validaci√≥-de-formularis">Validaci√≥ de Formularis</a>
<ul>
<li><a href="#placeholder">Placeholder</a></li>
<li><a href="#nous-tipus-de-camps">Nous tipus de camps</a></li>
<li><a href="#atributs-de-validaci√≥">Atributs de validaci√≥</a></li>
</ul></li>
<li><a href="#refer√®ncies-1">Refer√®ncies</a></li>
</ul></li>
<li><a href="#javascript">Javascript</a>
<ul>
<li><a href="#ecmascript">ECMASCRIPT</a>
<ul>
<li><a href="#strict-mode">Strict Mode</a>
<ul>
<li><a href="#activaci√≥">Activaci√≥</a></li>
</ul></li>
<li><a href="#variables">Variables</a></li>
<li><a href="#√Ämbit-scope">√Ämbit (Scope)</a></li>
<li><a href="#closures">Closures</a></li>
<li><a href="#this">This</a></li>
</ul></li>
<li><a href="#es6">ES6+</a>
<ul>
<li><a href="#noves-funcionalitats">Noves Funcionalitats</a></li>
<li><a href="#compatibilitat-cap-enrere">Compatibilitat cap Enrere</a>
<ul>
<li><a href="#polyfill">Polyfill</a></li>
<li><a href="#transpiladors">Transpiladors</a></li>
</ul></li>
</ul></li>
<li><a href="#refer√®ncies-2">Refer√®ncies</a></li>
</ul></li>
</ul></li>
<li><a href="#exercici-1">Exercici 1:</a></li>
</ul></li>
<li><a href="#entorn-de-treball">Entorn de Treball</a>
<ul>
<li><a href="#editor-de-text">Editor de Text</a></li>
<li><a href="#servidor-web-i-motor-de-plantilles-pug">Servidor Web i Motor de Plantilles PUG.</a>
<ul>
<li><a href="#prerequisits">Prerequisits</a></li>
<li><a href="#procediment">Procediment</a></li>
</ul></li>
<li><a href="#refer√®ncies-3">Refer√®ncies</a></li>
</ul></li>
<li><a href="#preprocessadors">Preprocessadors</a>
<ul>
<li><a href="#preprocessadors-css">Preprocessadors CSS</a></li>
<li><a href="#refer√®ncies-4">Refer√®ncies</a></li>
</ul></li>
</ul>
<!-- vim-markdown-toc -->
<h1 id="introducci√≥">Introducci√≥</h1>
<p><a href="/setslide/intro">Introducci√≥</a></p>
<p>Benvinguts al curs d'HTML5 de l'EBAP.</p>
<p>Aquest √©s un curs avan√ßat. Motiu pel qual es pressuposen uns m√≠nims coneixements previs d'HTML, CSS i Javascript.</p>
<p>En aquesta unitat did√†ctica repassarem breument els conceptes m√©s importants, sense entrar en detalls, per assegurar que tots tenim, m√©s o menys, els mateixos coneixements b√†sics que ens seran clau per a poder seguir la resta del curs.</p>
<p><a href="/setslide/intro_ask">Si res no s'ent√©n: PREGUNTAR</a></p>
<p>Si alguna cosa no l'entenem o ens resulta nova, √©s important preguntar al professor i/o investigar pel nostre compte a fi de poder entendre millor la resta d'unitats did√†ctiques.</p>
<h2 id="hist√≤ria">Hist√≤ria</h2>
<h3 id="abans-de-html5">Abans de HTML5</h3>
<p><a href="/setslide/abans_html5">Abans d'HTML5</a></p>
<ul>
<li>No hi havia un est√†ndard clar.
<ul>
<li>O millor dit: N'hi havia molts de discrepants.</li>
</ul></li>
<li><p>Imperava la &quot;guerra dels navegadors&quot;.</p></li>
<li><p>Els navegadors aplicaven estrictament les normes imposades per l'especificaci√≥ corresponent al DTD.</p></li>
<li><p>I si no hi havia DTD, reportaven un error per la consola (que l'usuari corrent normalment no veu) i, &quot;feien el que podien&quot;.</p></li>
</ul>
<blockquote>
<p>üìå Al final un s'adonava que de vegades era millor treure DTD perqu√® aix√≠ solien funcionar totes les funcionalitats de les distintes especificacions.</p>
</blockquote>
<h3 id="a-partir-dhtml5">A partir d'HTML5</h3>
<p>Al contrari que les versions anteriors, HTML5 √©s una especificaci√≥ oberta que va creixent al llarg del temps.</p>
<p><a href="/setslide/html5_is_here">En arribat HTML5</a></p>
<p>Per aquest motiu es simplifica el <em>doctype</em> que passa a ser simplement:</p>
<pre><code>&lt;!DOCTYPE HTML&gt;</code></pre>
<p><strong>A partir d'HTML5, aquell &quot;feien el que podien&quot; d'abans passa a ser la norma:</strong> Si el navegador no reconeix un tag, un atribut o es troba amb qualsevol altra circumst√†ncia que no casi amb les especificacions que ell coneix, ha d'intentar resoldre-ho &quot;de la millor manera possible&quot; per tal de minimitzar l'impacte de cara a l'usuari.</p>
<p><strong>Per exemple:</strong> un navegador que no conegui el tag <code>&lt;progress&gt;</code>, el tractar√† com si en el seu lloc hi hagu√©s un simple <code>&lt;div&gt;</code></p>
<p>Aix√≤ no vol dir que puguem fer el que vulguem ni que ja no hagem de fer servir validadors d'HTML:</p>
<ul>
<li><p>Primer perqu√® sempre √©s bo verificar que el nostre codi s'ajusta als est√†ndards actuals.</p></li>
<li><p>I segon perqu√® √©s f√†cil cometre errors quan escrivim html i, tot i que els navegadors intentaran endevinar &quot;qu√® vol√≠em dir realment&quot;, sempre n'hi haur√† que hi tindran m√©s tra√ßa que d'altres..</p></li>
</ul>
<h2 id="ecosistema-html-5">Ecosistema HTML 5</h2>
<ul>
<li>Markup (HTML)</li>
<li>Fulls d'Estil (StyleSheets)</li>
<li>Javascript</li>
<li>DOM</li>
<li>HTML5 APIs</li>
</ul>
<h3 id="llenguatge-de-marques-markup">Llenguatge de Marques (Markup)</h3>
<h4 id="elements-tags">Elements (Tags)</h4>
<h5 id="anatomia">Anatomia</h5>
<p>Amb contingut:</p>
<div class="sourceCode"><pre class="sourceCode html"><code class="sourceCode html"><span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;menu&quot;</span><span class="kw">&gt;</span>
    (contingut...)
<span class="kw">&lt;/div&gt;</span></code></pre></div>
<p>Auto-tancats:</p>
<div class="sourceCode"><pre class="sourceCode html"><code class="sourceCode html"><span class="kw">&lt;input</span><span class="ot"> name=</span><span class="st">&quot;age&quot;</span><span class="ot"> type=</span><span class="st">&quot;number&quot;</span> <span class="kw">/&gt;</span></code></pre></div>
<h5 id="custom-elements">Custom Elements</h5>
<p>Els elements de client o &quot;custom&quot; son aquells en els que el nom del tag est√† en min√∫scules i cont√© al menys un gui√≥ (&quot;-&quot;). Llevat d'algunes excepcions que no v√©nen al cas.</p>
<p>Els elements &quot;custom&quot; no seran reportats com a &quot;desconeguts&quot; per un validador. I la seva finalitat √©s la de poder implementar components espec√≠fics del costat del navegador.</p>
<div class="sourceCode"><pre class="sourceCode html"><code class="sourceCode html"><span class="kw">&lt;my-component&gt;</span>
    (contingut...)
<span class="kw">&lt;/my-component&gt;</span></code></pre></div>
<blockquote>
<p>‚òû React, Polymer i Angular son alguns dels frameworks m√©s coneguts que en fan √∫s.</p>
</blockquote>
<h4 id="atributs">Atributs</h4>
<ul>
<li>Els noms del atributs √©s &quot;case-insensitive&quot; a HTML5.</li>
</ul>
<h5 id="atributs-data-xxx">Atributs &quot;data-xxx&quot;</h5>
<p>De forma semblant als <em>Custom Elements</em>, els atributs el nom dels quals comenci per &quot;data-&quot;, son considerats atributs d'usuari.</p>
<p>Aquests atributs es poden fer servir lliurement a qualsevol element sense que mai cap validador ens alerti de que no el reconeix i, <strong>el que √©s molt m√©s important:</strong> sense el perill que nous atributs que s'estandarditzin en el futur hi puguin col¬∑lisionar.</p>
<p>Resulten <strong>molt √∫tils</strong> per atribuir informaci√≥ sem√†ntica a elements determinats que despr√©s podem fer servir tant des dels nostres controladors javascript com, si cal, des del full d'estil CSS.</p>
<h4 id="estructura-de-lhtml">Estructura de l'HTML</h4>
<ul>
<li>DTD</li>
<li>Document (<code>&lt;html&gt;</code>)
<ul>
<li>Cap√ßalera (<code>&lt;head&gt;</code>)</li>
<li>Cos (<code>&lt;body&gt;</code>)</li>
</ul></li>
</ul>
<h5 id="elements-de-la-cap√ßalera">Elements de la Cap√ßalera</h5>
<ul>
<li>T√≠tol (<code>&lt;title&gt;</code>)</li>
<li>Codificaci√≥ de car√†cters: <code>&lt;meta charset='utf-8' /&gt;</code></li>
<li>Viewport: <code>&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;</code></li>
<li>Fulls d'estil
<ul>
<li>Externs: <code>&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;...&quot; /&gt;</code></li>
<li>Interns: <code>&lt;style&gt;...&lt;/style&gt;</code> (Tamb√© poden anar dins el cos)</li>
</ul></li>
<li>Scripts (?)
<ul>
<li>Externs: <code>&lt;script src=&quot;...&quot; /&gt;</code> (Tamb√© poden anar dins el cos*)</li>
<li>Interns: <code>&lt;script&gt;...&lt;/script&gt;</code> (Tamb√© poden anar dins el cos*)</li>
</ul></li>
</ul>
<blockquote>
<p>üìå Avui en dia els scripts es solen ubicar al propi cos del document i, preferentment, al final per dues raons:</p>
<ol style="list-style-type: decimal">
<li>Per evitar retardar la desc√†rrega (i, com a conseq√º√®ncia, tamb√© la renderitzaci√≥) del document.</li>
<li>Perqu√® si el script necessita capturar elements del DOM, no pot fer-ho fins que aquests s'hagin creat. <strong>I aquesta √©s la millor manera d'assegurar-ho</strong>.</li>
</ol>
</blockquote>
<h5 id="elements-del-cos">Elements del Cos</h5>
<p>Els mes comuns son:</p>
<ul>
<li><code>&lt;div&gt;&lt;/div&gt;</code></li>
<li><code>&lt;span&gt;&lt;/span&gt;</code></li>
<li><code>&lt;h1&gt;&lt;/h1&gt;</code>, <code>&lt;h2&gt;&lt;/h2&gt;</code>, <code>&lt;h3&gt;&lt;/h3&gt;</code>, ...</li>
<li><code>&lt;a href=&quot;...&quot;&gt;&lt;/a&gt;</code></li>
<li><code>&lt;p&gt;&lt;/p&gt;</code></li>
<li><code>&lt;br /&gt;</code></li>
<li><code>&lt;pre&gt;&lt;/pre&gt;</code></li>
<li>etc√®tera...</li>
</ul>
<p>Llistes:</p>
<ul>
<li><code>&lt;ul&gt;&lt;/ul&gt;</code> / <code>&lt;ol&gt;&lt;/ol&gt;</code>
<ul>
<li><code>&lt;li&gt;&lt;/li&gt;</code></li>
</ul></li>
</ul>
<p>Taules:</p>
<ul>
<li><code>&lt;table&gt;&lt;/table&gt;</code>
<ul>
<li><code>&lt;thead&gt;&lt;/thead&gt;</code> / <code>&lt;tbody&gt;&lt;/tbody&gt;</code> / <code>&lt;tfooter&gt;&lt;/tfooter&gt;</code></li>
<li><code>&lt;tr&gt;&lt;/tr&gt;</code></li>
<li><code>&lt;td&gt;&lt;/td&gt;</code> / <code>&lt;th&gt;&lt;/th&gt;</code></li>
</ul></li>
</ul>
<p>Nous a HTML5</p>
<ul>
<li><code>&lt;header&gt;&lt;/header&gt;</code></li>
<li><code>&lt;footer&gt;&lt;/footer&gt;</code></li>
<li><code>&lt;section&gt;&lt;/section&gt;</code></li>
<li><code>&lt;article&gt;&lt;/article&gt;</code></li>
<li><code>&lt;aside&gt;&lt;/aside&gt;</code></li>
<li>etc√®tera...</li>
</ul>
<h4 id="refer√®ncies">Refer√®ncies</h4>
<ul>
<li><strong>Elements HTML5:</strong>
<ul>
<li>Nous elements HTML5: <a href="">https://www.w3schools.com/html/html5_new_elements.asp</a>.</li>
<li>Refer√®ncia completa: <a href="">https://www.tutorialspoint.com/html5/html5_tags.htm</a>.</li>
</ul></li>
<li><strong>Atributs HTML5:</strong>
<ul>
<li>Refer√®ncia competa d'atributs: <a href="">https://www.w3schools.com/tags/ref_attributes.asp</a>.</li>
</ul></li>
<li><strong>Altres:</strong>
<ul>
<li>Viewport: <a href="">https://developer.mozilla.org/en-US/docs/Mozilla/Mobile/Viewport_meta_tag</a>.</li>
</ul></li>
<li><strong>Frameworks:</strong>
<ul>
<li>React: <a href="">https://reactjs.org/</a>.</li>
<li>Polymer: <a href="">https://www.polymer-project.org/</a>.</li>
<li>Angular: <a href="">https://angular.io/</a>.</li>
</ul></li>
</ul>
<h3 id="formularis">Formularis</h3>
<p><strong>Exemple:</strong></p>
<pre><code>  &lt;form&gt;
    &lt;input name=&quot;nom&quot; type=&quot;text&quot;
        placeholder=&quot;Escrigui el seu nom&quot;
    &gt;
    &lt;input name=&quot;cognoms&quot; type=&quot;text&quot;
        placeholder=&quot;Escrigui els seus cognoms&quot;
    &gt;
    &lt;button type=&quot;submit&quot;&gt;
  &lt;/form&gt;</code></pre>
<p>A l'exemple anterior probablement hi trobareu a faltar els atributs <em>action</em> o <em>method</em> i pot ser hageu notat que hem fet servir un <code>&lt;button&gt;</code> en comptes d'un <code>&lt;input type=&quot;text&quot;&gt;</code>. No √©s que ja no hi siguin a HTML5. Per√≤ moltes vegades no seran la forma m√©s id√≤nia de gestionar els formularis:</p>
<ul>
<li>En comptes d'esperar a que l'usuari envii el formulari per a validar-lo, normalment preferirem advertir a l'usuari tot d'una que detectem alguna cosa que no estigui b√©.</li>
<li>Tampoc √©s ja gaire habitual enviar un formulari recarregant tota la p√†gina. El m√©s usual √©s enviar les dades via <em>Ajax</em> i realitzar alguna modificaci√≥ al document per a que l'usuari se n'adoni que la informaci√≥ ha estat processada.</li>
</ul>
<blockquote>
<p>üìå Tampoc hem fet servir el tag <code>&lt;label&gt;</code>. Posar etiquetes √©s perfectament v√†lid i, fins i tot recomanable en molts casos. Per√≤ de vegades, quan les dades son suficientment autoexplicatives, utilitzar nom√©s l'atribut <em>placehloder</em> per indicar qu√® va a cada camp abans d'emplenar-lo, ens pot ajudar a assolir un aspecte molt m√©s net.</p>
</blockquote>
<h4 id="nous-tipus-de-camps-a-html5">Nous tipus de camps a HTML5</h4>
<table>
<tbody>
<tr class="odd">
<td>color</td>
<td>date</td>
<td>datetime-local</td>
</tr>
<tr class="even">
<td>email</td>
<td>month</td>
<td>number</td>
</tr>
<tr class="odd">
<td>range</td>
<td>search</td>
<td>tel</td>
</tr>
<tr class="even">
<td>time</td>
<td>url</td>
<td>week</td>
</tr>
</tbody>
</table>
<blockquote>
<p>‚òû Els tipus de camps que no estiguin suportats en un navegador antic, es comportaran igual que si f√≥ssin <code>&lt;input type=&quot;text&quot;&gt;</code>.</p>
</blockquote>
<h4 id="nous-atributs-per-a-camps-de-formularis-a-html5">Nous atributs per a camps de formularis a HTML5</h4>
<ul>
<li><strong>placeholder:</strong> Ens permet especificar un text (o &quot;pista&quot;) que apareixer√† difuminat al fons dels camps que no estiguin emplenats.</li>
<li><strong>pattern:</strong> Ens permet especificar una expressi√≥ regular de validaci√≥.</li>
<li><strong>required:</strong> Ens permet especificar quan un camp √©s obligatori.</li>
<li><strong>autofocus:</strong> Marca un camp indicant que √©s ell qui ha de rebre el focus en carregar-se la p√†gina.</li>
</ul>
<p>Altres...</p>
<table>
<tbody>
<tr class="odd">
<td>autocomplete</td>
<td>form</td>
<td>formaction</td>
</tr>
<tr class="even">
<td>formenctype</td>
<td>formmethod</td>
<td>formnovalidate</td>
</tr>
<tr class="odd">
<td>formtarget</td>
<td>height</td>
<td>width</td>
</tr>
<tr class="even">
<td>list</td>
<td>min</td>
<td>max</td>
</tr>
<tr class="odd">
<td>multiple</td>
<td>step</td>
<td></td>
</tr>
</tbody>
</table>
<h4 id="validaci√≥-de-formularis">Validaci√≥ de Formularis</h4>
<p>La regla d'or en quant a validaci√≥ de formularis √©s que aquesta <strong>sempre es fa costat del servidor</strong>.</p>
<blockquote>
<p>üìå Qualsevol validaci√≥ que puguem fer al costat del client no nom√©s depen de que les funcionalitats que facem servir estiguin disponibles i funcionin correctament al navegador i versi√≥ concrets que faci servir l'usuari. Sin√≥ tamb√© de que aquest no ens vulgui enganar i colar-nos uns valors que no compleixin les regles que nosaltres hem imposat.</p>
</blockquote>
<p>Dit aix√≤, obligar a l'usuari a emplenar tot un formulari per al final de tot dir-li que ho ha fet tot malament i que ha de tornar a comen√ßar √©s poc menys que suggerir-li que no torni. Especialment si en el proc√©s li esborram les dades que havia introdu√Øt i el feim comen√ßar de zero.</p>
<p>Per aix√≤, <strong>A M√âS</strong> de la validaci√≥ principal al servidor, √©s recomanable que el formulari reaccioni a les accions de l'usuari proporcionant-li un feedback constant perqu√® pugui saber si ho est√† fent b√© o malament.</p>
<p>HTML5 ens proporciona v√†ries eines per fer just aix√≤:</p>
<h5 id="placeholder">Placeholder</h5>
<p>D'acord: T√®cnicament l'atribut <em>placeholder</em> no t√© res a veure amb la validaci√≥ de formularis.</p>
<p>Per√≤ en una situaci√≥ com la seg√ºent:</p>
<pre><code>&lt;label for=&quot;data&quot;&gt;Data&lt;/label&gt;
&lt;input name=&quot;data&quot; type=&quot;text&quot;&gt;</code></pre>
<p>...afegir un atribut de l'estil de <code>placeholder=&quot;dd/mm/aaaa&quot;</code> pot ser un bon comen√ßament.</p>
<blockquote>
<p>üìå Evidentment, fer servir <code>type=&quot;date&quot;</code> seria una soluci√≥ molt millor. Per√≤ amb navegadors (bastant) antics no funcionar√†. En canvi, si combinam les dues solucions, probablement els usuaris dels navegadors m√©s antics ens ho agrairan.</p>
</blockquote>
<h5 id="nous-tipus-de-camps">Nous tipus de camps</h5>
<p>Considerem el seg√ºent exemple:</p>
<pre><code>&lt;label for=&quot;color&quot;&gt;
    Indiqui quin √©s el seu color favorit
&lt;/label&gt;
&lt;input name=&quot;color&quot; type=&quot;text&quot;&gt;</code></pre>
<p>Aix√≤ podr√≠em dir que <code>placeholder=&quot;Ex. #ff0000&quot;</code> no ens ho arregla <em>massa</em>, precisament...</p>
<p>Afortunadament, en HTML5 tenim el tipus de camp <em>color</em> que ens incrustar√† un flamant <em>color-picker</em> per a que l'usuari pugi triar el que m√©s li agradi.</p>
<p>Tamb√©, com hem dit, tenim el tipus <em>date</em> per a dates.</p>
<p>Altres que tenim son:</p>
<table>
<tbody>
<tr class="odd">
<td><code>time</code></td>
<td><code>datetime-local</code></td>
<td><code>month</code></td>
</tr>
<tr class="even">
<td><code>week</code></td>
<td><code>number</code></td>
<td><code>range</code></td>
</tr>
<tr class="odd">
<td><code>search</code></td>
<td><code>tel</code></td>
<td><code>url</code></td>
</tr>
<tr class="even">
<td><code>email</code></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>La forma d'implementar cadascun d'ells depen del navegador:</p>
<ul>
<li><p>En general alguns d'ells, com <code>color</code> o <code>range</code> ens presentaran un widget totalment personalitzat de manera que no podrem introduir valors inv√†lids de cap manera (tret que, per exemple, nom√©s vulguem acceptar dates dins d'un determinat per√≠ode).</p></li>
<li><p>Altres, com <code>tel</code>, <code>email</code>, etc√®tera... es mostraran com a camps de text normal permetent-nos editar el contingut lliurement, per√≤ mentre el valor introdu√Øt no sigui v√†lid, presentaran un estil diferent (que per defecte depen del navegador per√≤, com veurem m√©s endavant, el podem personalitzar des del full d'estil).</p></li>
</ul>
<blockquote>
<p>‚òû A l'apartat de <em>Refer√®ncies</em> podeu trobar l'enlla√ß a la llista actualitzada completa.</p>
</blockquote>
<h5 id="atributs-de-validaci√≥">Atributs de validaci√≥</h5>
<p><strong>pattern:</strong></p>
<p>Desgraciadament no podem tenir un tipus de camp espec√≠fic per a cada tipus de dades que eventualment puguem voler sol¬∑licitar en un formulari.</p>
<p>A l'exemple seg√ºent:</p>
<pre><code>&lt;label for=&quot;url&quot;&gt;Url&lt;/label&gt;
&lt;input name=&quot;url&quot; type=&quot;url&quot;&gt;
&lt;label for=&quot;ip&quot;&gt;Adre√ßa IP&lt;/label&gt;
&lt;input name=&quot;ip&quot; type=&quot;text&quot; placeholder=&quot;Ex: 192.168.1.1&quot;&gt;</code></pre>
<p>...el <em>placeholder</em> √©s un bon intent. Per√≤ la realitat √©s que si introdu√Øm una url inv√†lida ens en adonarem de seguida. Per√≤ si introdu√Øm &quot;257.30.25.13&quot; (o simplement &quot;Sancho Panza&quot;...) al camp d'adre√ßa IP, no hi haur√† res que ens indiqui que el valor √©s inv√†lid.</p>
<p>Per solucionar aix√≤, l'atribut <em>pattern</em> ens permet especificar una expressi√≥ regular associada al camp de manera que, sempre que el contingut del mateix no la compleixi, adoptar√† l'estat de &quot;no validat&quot;.</p>
<pre><code>&lt;label for=&quot;ip&quot;&gt;Adre√ßa IP&lt;/label&gt;
&lt;input name=&quot;ip&quot; type=&quot;text&quot;
    placeholder=&quot;Ex: 192.168.1.1&quot;
    pattern=&quot;((^|\.)((25[0-5])|(2[0-4]\d)|(1\d\d)|([1-9]?\d))){4}$&quot;
&gt;</code></pre>
<blockquote>
<p>üìå Les <em>expressions regulars</em> no acostumen a brillar per la seva llegibilitat i la de validar una IP, encara que sigui de versi√≥ 4, no √©s tampoc de les m√©s senzilles.</p>
<p>Per√≤ un cop les dominam son un recurs impagable a l'hora de validar dades.</p>
<p>A la secci√≥ de <em>Refer√®ncies</em> teniu dos enlla√ßos al respecte:</p>
<ul>
<li>Un √©s un interessant recull d'<em>expressions regulars</em> comunes en la validaci√≥ de formularis HTML5.</li>
<li>L'altre, per aquells que estiguin interessats en aprendre'n m√©s, √©s un portal on trobareu tota la informaci√≥ que pugueu necessitar per dominar les <em>expressions regulars</em>.</li>
</ul>
</blockquote>
<p><strong>required:</strong></p>
<p>L'atribut <em>pattern</em> ens permet dotar al formulari de la capacitat de diferenciar per ell mateix si el valor d'un camp √©s v√†lid o no.</p>
<p>Per√≤ no sempre √©s requerit emplenar tots els camps. De vegades alguns son opcionals i, si no estan emplenats dif√≠cilment podran complir el patr√≥ especificat.</p>
<p>Per aix√≤ l'atribut <em>required</em> ens permet identificar aquells camps que realment son requerits. De manera que el formulari pugui saber quan ens ha de marcar com a error el fet que, eventualment, no estigui emplenat.</p>
<pre><code>&lt;input name=&quot;nom&quot; type=&quot;text&quot; placeholder=&quot;Nom*&quot; required&gt;</code></pre>
<p><strong>min, max i step:</strong></p>
<p>En camps de tipus <em>number</em> i <em>range</em> ens permeten establir els valors m√≠nim, m√†xim i la resoluci√≥ d'increment/decrement.</p>
<p><strong>minlength i maxlength:</strong></p>
<p>En camps de text ens permeten establir una longitud m√≠nima i m√†xima.</p>
<h4 id="refer√®ncies-1">Refer√®ncies</h4>
<ul>
<li><p>Tipus de camps en HTML5: <a href="">https://www.w3schools.com/html/html_form_input_types.asp</a></p></li>
<li><p>Repositori d'expressions regulars comunes per HTML4: <a href="">http://html5pattern.com/Miscs</a></p></li>
<li><p>Tot sobre expressions regulars: <a href="">https://www.regular-expressions.info/</a>.</p></li>
<li><p>M√©s sobre validaci√≥ de formularis: <a href="">https://developer.mozilla.org/en-US/docs/Learn/HTML/Forms/Form_validation</a>.</p></li>
</ul>
<h3 id="javascript">Javascript</h3>
<p><a href="/setslide/javascript">Javascript</a></p>
<p>Javascript √©s un llenguatge de programaci√≥ <strong>as√≠ncron</strong>:</p>
<ul>
<li>Orientat a events</li>
<li>...que son gestionats mitjan√ßant <em>callbacks</em></li>
<li>...que s'enqueuen al <em>event-loop</em>.</li>
</ul>
<p>La seva primera versi√≥ la va desenvolupar <em>Brendan Eich</em> en nom√©s 10 dies per enc√†rrec de <em>Netscape</em> amb la intenci√≥ de dotar els seus navegadors de certa interactivitat.</p>
<p>Els programes en Javascript s'executen en un sol fil del processador. El que ens permet programar <strong>gaireb√©</strong> com si no exist√≠s concurr√®ncia.</p>
<p>El programari que interpreta el codi Javascript s'anomena &quot;motor&quot; (de l'angl√®s &quot;engine&quot;). El m√©s utilitzat avui en dia √©s el &quot;V8&quot; de Google.</p>
<p>El motor, a m√©s d'interpretar el codi Javascript, serveix de pont entre aquest i l'entorn en el que s'ha d'executar el nostre programa.</p>
<p>Aix√≠, en un programa que s'executi en un navegador, el nostre entorn ser√† el DOM, que ens dona acc√©s a poder manipular totes les caracter√≠stiques del document i, fins i tot, algunes del propi navegador.</p>
<p>Per programes executats en un int√®rpret com ara Node.JS, en canvi, el nostre entorn √©s el sistema operatiu i tots els serve√Øs que aquest ens ofereix.</p>
<p>Per contra del que molta gent pensa, Javascript √©s un llenguatge fortament orientat a objectes. Fins al punt que fins i tot els seus tipus de dades m√©s elementals com les cadenes de text o els valors num√®rics, son en realitat objectes.</p>
<p>Per aquest motiu, podem fer coses com:</p>
<pre><code>&gt; &quot;hello world&quot;.length
11
&gt; &quot;hello world&quot;.split(&quot; &quot;)
[ &#39;hello&#39;, &#39;world&#39; ]</code></pre>
<blockquote>
<p>El que no √©s en realitat √©s un llenguatge &quot;orientat a classes&quot;: No cal una <em>classe</em> per crear un objecte en Javascript.</p>
<p>Tamb√© t√© her√®ncia. Per√≤ el que s'hereden son els <em>prototipus</em> i no les <em>classes</em>.</p>
</blockquote>
<p>De fet tota la interacci√≥ amb el m√≥n exterior i fins i tot amb el propi llenguatge (com ara les llibreries de funcions matem√†tiques, de temps, expressions regulars, etc...) es fa a trav√©s d'objectes (variables) predefinits que el motor ens presenta a mode d'interf√≠cie per a interactuar amb ells.</p>
<p>Aix√≠, a qualsevol entorn Javascript ens trobarem objectes com:</p>
<ul>
<li><code>Math</code></li>
<li><code>Date</code></li>
<li><code>RegExp</code></li>
<li><code>Object</code></li>
<li><code>String</code></li>
<li><code>Number</code></li>
<li><code>Array</code></li>
</ul>
<p>...i d'altres nom√©s els trobarem en entorns determinats:</p>
<ul>
<li>Node.JS:
<ul>
<li><code>process</code></li>
<li><code>fs</code></li>
</ul></li>
<li>Navegador:
<ul>
<li><code>document</code></li>
<li><code>window</code></li>
</ul></li>
</ul>
<p>...un cas especial √©s el de l'objecte <code>console</code> que ens el trobarem sempre (pel que podriem dir que pertany al primer grup), amb els seus arxiconeguts m√®todes <code>console.log()</code> i <code>console.error()</code>, per√≤ que el cito apart perqu√®, tot i presentar una interf√≠cie id√®ntica en tots els entorns, i realitzar una funci√≥, efectivament id√®ntica. La forma en que es materialitza aquesta interacci√≥ pot ser radicalment distinta:</p>
<ul>
<li><p>A qualsevol int√®rpret de terminal, com Node.JS: Ens mostrar√† el resultat per la pantalla (consola).</p></li>
<li><p>En un navegador, en canvi: Els missatges romanen ocults a no ser que nosaltres accediguem a la <em>consola del navegador</em> (que t√≠picament s'obre amb la tecla F12).</p></li>
</ul>
<h4 id="ecmascript">ECMASCRIPT</h4>
<p><a href="/setslide/ecmascript">ECMASCRIPT</a></p>
<p>Javascript es va estendre r√†pidament per tots els navegadors de l'√®poca. Si be cadascun en feia les seves pr√≤pies variacions i, per aix√≤, durant molts d'anys va resultar ca√≤tic programar en Javascript i que el nostre codi funcion√†s b√© a tots els navegadors de l'√®poca.</p>
<p>L'associaci√≥ <strong>ECMA:</strong> (European Computer Manufacturers Association) va voler estandarditzar-lo. Per√≤ el terme &quot;Javascript&quot; √©s una marca comercial registrada i l'aleshores titular, <em>Netscape</em>, no va permetre el seu √∫s. Motiu pel qual, el llenguatge va √©sser estandarditzat sota el nom de &quot;ECMASCRIPT&quot;.</p>
<p>Avui en dia per√≤, sempre que col¬∑loquialment parlem de &quot;Javascript&quot; s'ent√©n que en realitat estem parlant d'ECMASCRIPT.</p>
<h5 id="strict-mode">Strict Mode</h5>
<p>En els seus origens Javascript era un llenguatge molt lax i, entre d'altres coses, no requeria declarar les variables: Si f√®iem servir un identificador que no apareixia declarat al codi, autom√†ticament es creava com a variable d'√†mbit global.</p>
<p>Aix√≠, codi com el seg√ºent:</p>
<div class="sourceCode"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span class="kw">var</span> Comptador <span class="op">=</span> <span class="dv">10</span><span class="op">;</span>
comptador<span class="op">--;</span>
<span class="va">console</span>.<span class="at">log</span>(comptador)<span class="op">;</span></code></pre></div>
<p>...retornaria <code>-1</code> (quan nosaltres probablement esperar√≠em un <code>9</code>) en comptes de donar un error per variable no declarada, que √©s el que realment hauria de fer (en Javascript els identificadors son <em>Case-Sensitive</em>).</p>
<p>Per poder solucionar aix√≤ i no rompre la compatibilitat amb codi antic, es va introduir el que es coneix com a &quot;mode estricte&quot;.</p>
<p>Aix√≠, fins i tot els motors de Javascript m√©s moderns funcionen en un mode compatible amb aquelles regles fins que nosaltres expl√≠citament activam el mode estricte.</p>
<h6 id="activaci√≥">Activaci√≥</h6>
<p>Per activar el mode estricte basta amb posar la seg√ºent cadena (cometes incloses) al principi del nostre codi:</p>
<div class="sourceCode"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span class="st">&quot;use strict&quot;</span><span class="op">;</span></code></pre></div>
<p>Quan els motors de Javascript moderns veuen aquesta cadena entenen que han d'aplicar les regles modernes del Javascript (ECMASCRIPT).</p>
<p>A m√©s, com que escriure un valor d'un tipus de dades donat (en aquest cas una cadena), encara que no l'assignem a cap variable ni en fem res d'especial √©s v√†lid com a codi en qualsevol versi√≥ de Javascript. Si no utilitzam funcionalitats avan√ßades no disponibles en ells, el nostre codi <strong>tamb√© funcionaria amb motors antics</strong>.</p>
<blockquote>
<p>üìå En resum: <strong>SEMPRE</strong> que ens disposem a escriure codi en Javascript, el primer que farem ser√† posar la cadena <code>&quot;use strict&quot;;</code> al principi.</p>
<p>Aix√≤ ens ajudar√† a fer millor codi i ens evitar√† molts de problemes...</p>
</blockquote>
<h5 id="variables">Variables</h5>
<p><a href="/setslide/js_vars">Variables</a></p>
<p>Tenim tres formes de declarar variables:</p>
<pre><code>var foo; // Function (closure) level scope
let bar; // Block ({ ... }) level scope
const foo;  // Block-level, not de-referenciable.</code></pre>
<ul>
<li><p>Nom√©s <code>var</code> funcionar√† en versions antigues (per√≤ hi ha <em>transpiladors</em> que ens ho arreglen).</p></li>
<li><p>Amb <code>let</code> i <code>const</code> no hi ha <em>hoisting</em>: (No poden ser referenciades abans de la declaraci√≥). Ni tampoc fora del bloc en el que s'han definit.</p></li>
<li><p>Les variables en Javascript son <em>refer√®ncies</em> a objectes: <strong>Amb <code>const</code> l'√∫nic que √©s constant √©s la refer√®ncia:</strong> El contingut de l'objecte s√≠ pot canviar.</p></li>
</ul>
<blockquote>
<p>üìå Com a bona pr√†ctica (sempre que ens ho poguem permetre) farem servir preferentment <em>const</em>. Si no ens serveix <em>let</em> i, nom√©s com a darrer recurs <em>var</em>.</p>
</blockquote>
<h5 id="√†mbit-scope">√Ämbit (Scope)</h5>
<p>L'√†mbit d'una variable determina a quines parts del codi aquesta √©s visible.</p>
<ul>
<li>Les variables <em>globals</em> son aquelles que son visibles des de qualsevol part del programa.
<ul>
<li>Fora del mode estricte les variables invocades sense haver estat pr√®viament declarades (ex.: <code>a = 23;</code>) es declaren autom√†ticament a l'√†mbit global. <strong>Per aix√≤ SEMPRE hem d'activar el mode estricte</strong>.</li>
<li>En el mode estricte nom√©s es poden declarar variables globals amb <code>var</code> i exclusivament fora de qualsevol <em>clausura</em>.</li>
<li>En realitat, les variables d'√†mbit global son propietats del <em>global object</em>. Aix√≠ <code>var foo=&quot;bar&quot;</code> (fora de qualsevol clausura) i <code>window.foo=&quot;bar&quot;</code> serien declaracions equivalents.</li>
<li>El <em>global object</em> √©s <code>window</code> als navegadors i <code>process</code> a <em>Node.JS</em>. Existeix la proposta d'estandarditzar pr√≤piament <code>global</code> com a refer√®ncia a <code>window</code> o <code>process</code>, respectivament.</li>
</ul></li>
<li><p>L'√†mbit de les variables declarades amb <code>var</code> √©s el de la <em>clausura</em> dins la que han estat declarades o l'√†mbit global en el cas que de no haver estat declarades dins cap.</p></li>
<li>L'√†mbit de les variables declarades amb <code>let</code> o <code>const</code> √©s el del <em>bloc</em> de codi en el que han estat definides.
<ul>
<li>Els <em>blocs de codi</em> es delimiten amb <code>{</code> i <code>}</code> ja sigui com a predicat d'una sent√®ncia (<code>if (x) {...}</code>) o simplement posats expr√©ssament amb la finalitat de limitar l'√†mbit de les variables del seu interior (<code>{let   i=0; ...}</code>):</li>
<li>Un cas especial √©s el de la sent√®ncia <em>for</em> √≥n al codi <code>for (let i=0;   i&lt;arr.length; i++) {...}</code>, l'√†mbit de <code>i</code> correspondria a l'interior el bloc <code>{...}</code>.</li>
</ul></li>
</ul>
<pre><code>const arr = [1, 2, 3, 4]
for (let i=0; i&lt;arr.length; i++) {
    arr[i] += 2;
};
console.log (arr); // [3, 4, 5, 6]
console.log (i); // Error!!
                 // Aix√≤ amb var no passava...</code></pre>
<h5 id="closures">Closures</h5>
<p><a href="/setslide/js_let">let</a></p>
<p>Les clausures delimiten l'√†mbit de visibilitat d'una variable.</p>
<p>Es creen autom√†ticament cada cop <strong>que invocam</strong> una funci√≥ (no en el temps de creaci√≥) pel que cada cop que invoquem de nou la mateixa funci√≥ s'en crear√† una de nova totalment separada de la anterior.</p>
<p>En canvi, <strong>els objectes que aquestes referncien, tamb√© poden ser referenciats des de l'exterior</strong>:</p>
<pre><code>function sumador(n) { // Aix√≤ no crea cap clausura.
    let x = n; // (en realitat hauriem pogut fer servir &#39;n&#39;)
    let fn = function suma(m) {
        x += m;
        return x;
    };
    return fn;
};

let s1 = sumador(0); // Aix√≤ s√≠ crea una clausura.
let s2 = sumador(100); // I aix√≤ una altra...

console.log (s1(3)); // 3
console.log (s1(5)); // 8
console.log (s2(5)); // 105
</code></pre>
<p>Les variables creades dins una clausura nom√©s son visibles dins d'aquesta <strong>i dins les que es crein dins ella.</strong> D'aix√≤ s'en diu <em>Runtime Scope</em> o √†mbit en temps d'execuci√≥.</p>
<p>Una utilitat molt pr√†ctica de les clausures √©s fer-les servir per a√Øllar petits blocs de codi (o sub-controladors) de manera que les variables que ells declarin no puguin veure's afectades pel codi de l'exterior. Si be, avui en dia, pels casos m√©s senzills, ens bastar√† fer servir <code>const</code> o <code>let</code>:</p>
<pre><code>// Petit controlador secundari:
(function(model) {
   ... implementaci√≥ ...
})(model.submodel.foo.bar);</code></pre>
<blockquote>
<p>üìå El patr√≥ anterior es coneix pel nom de <em>IIFE</em>: <em>(Immediately Invoked Function Expression)</em>.</p>
<p>La seva forma m√©s senzilla √©s <code>(function(){...})()</code>. Per√≤ podem fer les variacions que vulguem: com ara fer servir par√†metres per evitar referenciar variables externes des de l'interior, igual que a l'exemple anterior, fer que ens retornin un valor que podem assignar a una variable i/o assignar-li un nom a la funci√≥: <code>const myCoolObj = (function coolObjBulder(options){...;return obj})(config);</code></p>
</blockquote>
<h5 id="this">This</h5>
<p><em>this</em> √©s la propietat m√©s √†mpliament incompresa de Javascript.</p>
<p><em>this</em> implementa el <em>Call Site Scope</em> (en contraposici√≥ amb el <em>Runtime Scope</em> que acabam de veure).</p>
<blockquote>
<p>üìå Explicar a fons <em>this</em> queda m√©s enll√† dels object√≠us d'aquest curs, per√≤ per a qui tingui inter√©s en aprofundir, us deixo a les refer√®ncies un enlla√ß a l'article &quot;Understanding Javascript OOP&quot;.</p>
</blockquote>
<h4 id="es6">ES6+</h4>
<h5 id="noves-funcionalitats">Noves Funcionalitats</h5>
<p><a href="/setslide/es6+">Noves Funcionalitats</a></p>
<p>L'arribada de ES6 va suposar una fita hist√≤rica per Javascript (t√®cnicament ECMASCRIPT).</p>
<p>Amb ella arribaren noves caracter√≠stiques molt desitjades. Per√≤ el que √©s millor: Es va canviar la forma en que s'alliberaven les noves versions de l'especificaci√≥ per un sistema molt m√©s eficient i din√†mic:</p>
<p>Ara cada any s'allibera una nova versi√≥. Per exemple, la d'enguany ser√† la ES2018.</p>
<p>Aix√≤ √©s possible gr√†cies a que les noves funcionalitats poden ser provades molt abans gr√†cies a l'√∫s de polyfills i transpiladors que ens permeten executar codi que fa servir les darreres funcionalitats en motors que encara no les suporten.</p>
<p>Les seg√ºents son algunes de les noves caracter√≠stiques m√©s interessants:</p>
<ul>
<li><p><strong>Par√†metres per defecte:</strong> <code>function inc(step=1){this.counter += step}</code>.</p></li>
<li><strong>Template Literals:</strong>
<ul>
<li>Fins ara per definir cadenes de text literals podiem fer servir cometes simples o dobles. Ara s'afegeix el car√†cter d'accent greu o <em>backtick</em> (`).</li>
<li>Les cadenes aix√≠ definides s'anomenen <em>template literals</em> i entre d'altres caracter√≠stiques m√©s avan√ßades, son multi-l√≠nia (ja no cal posar <code>\n</code>, etc...) i permeten la interpolaci√≥ de variables o expressions.</li>
</ul></li>
<li><strong>Destructuraci√≥:</strong>
<ul>
<li>En objectes: <code>let {foo, bar} = {foo: &quot;Hello&quot;, bar: &quot;world!&quot;, baz:   &quot;lost&quot;}</code>.</li>
<li>I arrays: <code>let [a, b] = [1, 2]</code>, <code>[a, b] = [b, a]</code></li>
</ul></li>
<li><strong>Arrow Functions:</strong> <code>let double = n=&gt;n*2</code>
<ul>
<li>Molt convenients per a implementar callbacks senzills (augmentant la legibilitat).</li>
<li>Al temps que <strong>absolutament desaconsellables</strong> en la resta de casos: Per a funcions llargues empitjoren la legibilitat i, a m√©s, el seu comportament no √©s igual (hereten el <em>this</em> de la funci√≥ on han estat invocades).</li>
</ul></li>
<li><p><strong>Promeses</strong> Que tractarem m√©s endavant en abordar el tema de la <em>programaci√≥ as√≠ncrona</em>.</p></li>
<li><p><strong><code>let</code> i <code>const</code>:</strong> De les que ja hem parlat.</p></li>
<li><p><strong>El keyword <em>class</em>:</strong> Que proveeix una sintaxi millor a l'hora de crear objectes, tot i que pot ser l'elecci√≥ del nom no fora la m√©s adequada, doncs indueix a pensar que pugui funcionar com el keyword <em>class</em> d'altres llenguatges.</p></li>
<li><p><strong>M√≤duls ES6.</strong></p></li>
</ul>
<blockquote>
<p>‚òû A l'apartat de <em>refer√®ncies</em> us deixo un article que les explica en m√©s profunditat.</p>
</blockquote>
<h5 id="compatibilitat-cap-enrere">Compatibilitat cap Enrere</h5>
<p><a href="/setslide/es6_backward_compatibility">Compatibilitat</a></p>
<p>Quan desenvolupam codi que ha de ser interpretat per un navegador, tenim el problema afegit que no sabem com d'antic pot arribar a ser aquest.</p>
<p>Com m√©s compatibles vulguem ser, menys noves caracter√≠stiques del llenguatge podem fer servir...</p>
<p>...o <strong>NO.</strong></p>
<p>En Javascript tenim dues eines molt potents que ens permeten fer servir fins i tot les m√©s recents funcionalitats del llenguatge encara que el nostre codi s'executi en motors antics.</p>
<p>Aquestes eines son els <em>polyfills</em> i els <em>transpiladors</em> (o &quot;transpilers&quot;).</p>
<h6 id="polyfill">Polyfill</h6>
<p>Un <em>polyfill</em> √©s un boc√≠ de codi Javascript que implementa una funcionalitat <em>futura</em> que encara no est√† disponible a la versi√≥ del motor que l'executa.</p>
<p>D'aquesta manera ens asseguram que el nostre codi, tot i fer √∫s d'una nova funcionalitat, s'executar√† sense problemes fins i tot en motors que encara no la suportin.</p>
<p>Els <em>polyfills</em> apliquen una t√®cnica que s'anomena <em>detecci√≥ de funcionalitat</em> per saber si s'han d'aplicar o no. Aix√≠, si incloem un <em>olyfill</em> al nostre programa i aquest √©s executat per un motor que ja no el necessita, el <em>polyfill</em> s'autoinhibir√† de manera que, de forma transparent, passarem a fer servir la implementaci√≥ nativa.</p>
<p>Per exemple, un <em>polyfill</em> per assegurar la disponibilitat de <em>Promeses</em> tindria una forma semblant al seg√ºent:</p>
<pre><code>(function(global) {
    if (! global.Promise) {
        global.Promise = class {
           ...
        }
    };
})(window || process);</code></pre>
<blockquote>
<p>üìå La t√®cnica de <em>detecci√≥ de funcionalitat</em> no nom√©s es fa servir per als <em>polyfills</em>: La podem fer servir tamb√© nosaltres sempre que ens enfrontem a la situaci√≥ de voler fer servir una funcionalitat que no estem segurs estar√† disponible en tots els casos.</p>
<p>D'aquesta manera podem oferir una funcionalitat alternativa o simplement ometre-la per√≤ sense que afecti a l'estabilitat de la resta del codi.</p>
<p>Per exemple, algunes APIs d'HTML5, com la que ens permet activar la vibraci√≥ del m√≤bil, dif√≠cilment estaran disponibles en navegadors PC.</p>
</blockquote>
<p>Una de les llibreries de <em>Polyfills</em> m√©s extensament utilitzada √©s <em>Modernizr</em>, que podeu trobar enlla√ßada a les <em>refer√®ncies</em>.</p>
<h6 id="transpiladors">Transpiladors</h6>
<p><em>Promise</em> √©s un objecte que, com hem vist, podem implementar nosaltres mateixos en Javascript i aplicar-lo, nom√©s si cal, en temps d'execuci√≥ (<em>polyfill</em>).</p>
<p>Per√≤ quan es tracta per√≤ de construccions del llenguatge, com les sent√®ncies <code>let</code> i <code>const</code> o com la <em>destructuraci√≥</em> d'objectes, no queda altra opci√≥ que reescriure el codi de manera que, amb les eines disponibles, faci el mateix (o, cas que no sigui posible, presenti la funcionalitat m√©s semblant possible) que hauria fet l'original en un int√®rpret que la suport√†s.</p>
<p>En aquest cas no podem simplement carregar una llibreria, sin√≥ que √©s necessari transformar el codi original en una versi√≥ modificada que sigui compatible.</p>
<p>Les eines que ens permeten fer aquesta transformaci√≥ de forma automatitzada es diuen <em>transpiladors</em>.</p>
<p>El m√©s conegut √©s el <em>Babel</em>, que teniu tamb√© enlla√ßat a les refer√®ncies.</p>
<h4 id="refer√®ncies-2">Refer√®ncies</h4>
<ul>
<li><p>Understanding Javascript OOP: <a href="">https://robotlolita.me/2011/10/09/understanding-javascript-oop.html</a>.</p></li>
<li><p>Top 10 ES6 Features Every Busy JavaScript Developer Must Know: <a href="">https://webapplog.com/es6/</a>.</p></li>
<li><p>Modernizr: <a href="">https://modernizr.com/</a>.</p></li>
<li><p>Babel: <a href="">https://babeljs.io/</a>.</p></li>
<li>Altres:
<ul>
<li>Motor de JavaScript V8 de Google: <a href="">https://ca.wikipedia.org/wiki/V8_(int%C3%A8rpret_JavaScript)</a>.</li>
</ul></li>
</ul>
<hr />
<h2 id="exercici-1">Exercici 1:</h2>
<p>Redactar una carta de presentaci√≥, estil curr√≠culum en HTML5. Ha de contenir com a m√≠nim:</p>
<ul>
<li>El vostre nom i llinatges.</li>
<li>Els vostres coneixements i experi√®ncia en HTML i/o altres tecnologies.</li>
<li>Motiu que vos ha impulsat a fer aquest curs.</li>
</ul>
<p>Heu d'aplicar el que heu apr√®s fins ara. Per√≤ podeu anar m√©s enll√† si en sabeu (incloure una fotografia, aplicar estils, etc√®tera...).</p>
<hr />
<h1 id="entorn-de-treball">Entorn de Treball</h1>
<p>Per poder seguir aquest curs necessitarem principalment tres coses:</p>
<ol style="list-style-type: decimal">
<li><p>Un editor de text que suporti ressaltat sint√†ctic.</p></li>
<li><p>Un servidor web per poder visualitzar els exercicis que anem fent no nom√©s al nostre ordinador, sin√≥ com a m√≠nim tamb√© al nostre smartphone.</p></li>
<li>Tamb√© farem servir un motor de plantilles HTML. Concretament el <em>Pug</em> (abans conegut com a &quot;Jade&quot;). Aix√≤ ens permetr√†:
<ul>
<li>Generar HTML molt m√©s r√†pidament.</li>
<li>Amb menys propensi√≥ a errors (perqu√® la sintaxi √©s m√©s clara i perqu√® si cometem errors greus el compilador els detectar√†).</li>
<li>Fer servir models de dades externs (el que seria separar la vista de les dades en un model MVC).</li>
</ul></li>
</ol>
<blockquote>
<p>üìå A les <em>Refer√®ncies</em> trobareu l'enlla√ß al portal web del motor de plantilles <em>Pug</em> on s'explica perfectament la seva senzilla sintaxi.</p>
</blockquote>
<h2 id="editor-de-text">Editor de Text</h2>
<p>Podeu fer servir el que vulgueu si el teniu disponible.</p>
<p>Als ordinadors de l'aula trobareu preparat el Sublime Text.</p>
<p>Si el voleu fer servir tamb√© a casa, heu de saber que Sublime Text no incorpora per defecte el ressaltat sint√†ctic per a fitxers <em>Pug</em>. Per√≤ se li pot afegir mitjan√ßant el seu sistema de paquets:</p>
<ul>
<li><p>Men√∫ Preferences -&gt; Package Control</p></li>
<li><p>Teclejam 'pi' i sel¬∑leccionam &quot;Install Package&quot;</p></li>
<li><p>Teclejam 'Pug' i sel¬∑leccionam &quot;Pug&quot;</p></li>
</ul>
<h2 id="servidor-web-i-motor-de-plantilles-pug.">Servidor Web i Motor de Plantilles PUG.</h2>
<p>Com a Servidor Web, farem servir <em>Express</em>. Que √©s un framework per <em>Node.JS</em> disponible al repositori de paquets <em>NPM</em>.</p>
<p>Explicar Node.JS i el funcionament de Express est√† fora dels objectius d'aquest curs. Simplement els farem servir perqu√® son la forma m√©s r√†pida i senzilla d'obtenir un entorn de treball amb les eines que necessitam.</p>
<p>Aix√≠ que, seguidament, ens limitarem a relacionar les passes a seguir per crear un projecte <em>Express</em> per poder comen√ßar a treballar:</p>
<h3 id="prerequisits">Prerequisits</h3>
<ul>
<li><em>Node.JS</em> i <em>NPM</em>: Els ordinadors de l'aula ja els tenen instal¬∑lats.
<ul>
<li>A l'apartat de <a href="#refer√®ncies-1">refer√®ncies</a> trobareu m√©s informaci√≥ si voleu instal¬∑lar-vos-els a casa.</li>
</ul></li>
<li><em>Express-generator</em>: √âs una eina en l√≠nia de comandes que ens permetr√† crear projectes <em>Expres</em> funcionals nom√©s executant una comanda.
<ul>
<li>Si no el tenim ja instal¬∑lat, l'instal¬∑larem amb la comanda <code>npm install   -g express-generator</code>.</li>
</ul></li>
</ul>
<h3 id="procediment">Procediment</h3>
<p>Obrirem una terminal i seguirem els passos seg√ºents:</p>
<p><em>1.</em> Cream un directori, per exemple de nom &quot;exercicis&quot;, on emmagatzemar els nostres exercicis i projectes i ens situam en ell.</p>
<div class="sourceCode"><pre class="sourceCode sh"><code class="sourceCode bash"><span class="ex">u@m</span>:~$ mkdir exercicis
<span class="ex">u@m</span>:~$ cd exercicis
<span class="ex">u@m</span>:~/exercicis$</code></pre></div>
<p><em>2.</em> Repetirem el pas anterior per crear a dins d'aquest un subdirectori, per exemple &quot;cursHTML5&quot; per al nostre primer projecte.</p>
<div class="sourceCode"><pre class="sourceCode sh"><code class="sourceCode bash"><span class="ex">u@m</span>:~/exercicis$ mkdir cursHTML5
<span class="ex">u@m</span>:~/exercicis$ cd cursHTML5/
<span class="ex">u@m</span>:~/exercicis/cursHTML5$</code></pre></div>
<p><em>3.</em> Fem servir la comanda <code>express</code> (l'<em>express-generator</em>) per crear un projecte buit.</p>
<p>Farem servir el par√†metre <code>--view=pug</code> per indicar-li que volem fer servir espec√≠ficament aquest motor de plantilles:</p>
<div class="sourceCode"><pre class="sourceCode sh"><code class="sourceCode bash"><span class="ex">u@m</span>:~/exercicis/cursHTML5$ express --view=pug

   <span class="ex">create</span> : public/
   <span class="ex">create</span> : public/javascripts/
   <span class="ex">create</span> : public/images/
   <span class="ex">create</span> : public/stylesheets/
   <span class="ex">create</span> : public/stylesheets/style.css
   <span class="ex">create</span> : routes/
   <span class="ex">create</span> : routes/index.js
   <span class="ex">create</span> : routes/users.js
   <span class="ex">create</span> : views/
   <span class="ex">create</span> : views/error.pug
   <span class="ex">create</span> : views/index.pug
   <span class="ex">create</span> : views/layout.pug
   <span class="ex">create</span> : app.js
   <span class="ex">create</span> : package.json
   <span class="ex">create</span> : bin/
   <span class="ex">create</span> : bin/www

   <span class="fu">install</span> dependencies:
     $ <span class="ex">npm</span> install

   <span class="ex">run</span> the app:
     $ <span class="va">DEBUG=</span>curshtml5:<span class="ex">*</span> npm start</code></pre></div>
<p>Aix√≤ ens haur√† creat una estructura de fitxers i directoris com aquesta:</p>
<pre><code>.
‚îú‚îÄ‚îÄ app.js
‚îú‚îÄ‚îÄ bin
‚îÇ   ‚îî‚îÄ‚îÄ www
‚îú‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ package-lock.json
‚îú‚îÄ‚îÄ public
‚îÇ   ‚îú‚îÄ‚îÄ images
‚îÇ   ‚îú‚îÄ‚îÄ javascripts
‚îÇ   ‚îî‚îÄ‚îÄ stylesheets
‚îÇ       ‚îî‚îÄ‚îÄ style.css
‚îú‚îÄ‚îÄ routes
‚îÇ   ‚îú‚îÄ‚îÄ index.js
‚îÇ   ‚îî‚îÄ‚îÄ users.js
‚îî‚îÄ‚îÄ views
    ‚îú‚îÄ‚îÄ error.pug
    ‚îú‚îÄ‚îÄ index.pug
    ‚îî‚îÄ‚îÄ layout.pug</code></pre>
<p>Les dues seg√ºents passes ja ens les ha suggerit el propi express-generator...</p>
<p><em>4.</em> Executam <code>npm install</code> per tal que s'instal¬∑lin totes les depend√®ncies:</p>
<div class="sourceCode"><pre class="sourceCode sh"><code class="sourceCode bash"><span class="ex">u@m</span>:~/exercicis/cursHTML5$ npm install
<span class="ex">npm</span> notice created a lockfile as package-lock.json. You should commit this file.
<span class="ex">added</span> 118 packages from 174 contributors and audited 247 packages in 3.707s
<span class="ex">found</span> 0 vulnerabilities</code></pre></div>
<p>i...</p>
<p><em>5.</em> Arrancam el nostre nou servidor web. Podem fer servir la comanda que s'ens o, en el nostre cas, amb <code>npm start</code> ser√† suficient.</p>
<div class="sourceCode"><pre class="sourceCode sh"><code class="sourceCode bash"><span class="ex">u@m</span>:~/exercicis/cursHTML5$ npm start

<span class="op">&gt;</span> <span class="ex">curshtml5@0.0.0</span> start /home/usuari/exercicis/cursHTML5
<span class="op">&gt;</span> <span class="ex">node</span> ./bin/www</code></pre></div>
<p>Ara haur√≠em de poder accedir al nostre servidor web a trav√©s del port 3000 del nostre PC. √âs a dir: a la url <a href="">http://localhost:3000</a>.</p>
<ul>
<li>Tamb√©, si tenim el nostre m√≤bil connectat a la xarxa inal√†mbrica i coneixem l'adre√ßa IP del nostre ordinador (que podem obtenir amb les comandes <code>ifconfig</code> o <code>ip addr list</code>), hi podrem accedir canviant &quot;localhost&quot; per la nostre IP a l'enlla√ß anterior.</li>
</ul>
<p>Si ara desam el fitxer que hem creat a l'exercici anterior sota el directori &quot;public&quot; i amb el nom &quot;curriculum.html&quot;, veurem que podem accedir a ell sota al url <a href="">http://localhost:3000/curriculum.html</a> (o amb la IP corresponent si volem poder accedir-hi tamb√© des del nostre smartphone).</p>
<h2 id="refer√®ncies-3">Refer√®ncies</h2>
<ul>
<li><p><em>Sublime Text</em>: <a href="">https://www.sublimetext.com/</a>.</p></li>
<li>Instal¬∑laci√≥ Node.JS i NPM:
<ul>
<li>Via <em>NVM</em> (recomanat): <a href="">https://github.com/creationix/nvm/blob/master/README.md#install-script</a>.</li>
<li>Amb el gestor de paquets del Sistema Operatiu: <a href="">https://nodejs.org/es/download/package-manager/</a>.</li>
<li>Instal¬∑laci√≥ manual: <a href="">https://nodejs.org/en/download/</a>.</li>
</ul></li>
<li><p>Motor de plantilles Pug: <a href="">https://pugjs.org</a>.</p></li>
</ul>
<h1 id="preprocessadors">Preprocessadors</h1>
<p>Els preprocessadors son eines que ens permeten transformar un fitxer de codi escrit en un llenguatge modificat o totalment distint al que ent√©n compilador o int√®rpret al que estan destinats.</p>
<p>Per exemple, els <em>transpiladors</em> de Javascript dels que hem parlat abans, son un cas de preprocessadors.</p>
<p>El motor de plantilles <em>Pug</em> n'√©s un altre que en aquest cas, transforma completament la sintaxi (com veurem molt m√©s planera i senzilla) d'una plantilla <em>Pug</em> en un document HTML v√†lid que pot llegir qualsevol navegador.</p>
<p>Al projecte <em>Expres</em> que hem creat anteriorment, podem veure com a dins el directori <em>views</em> tenim tres fitxers:</p>
<p>error.pug index.pug layout.pug</p>
<p><strong>layout.pug:</strong></p>
<pre><code>doctype html
html
  head
    title= title
    link(rel=&#39;stylesheet&#39;, href=&#39;/stylesheets/style.css&#39;)
  body
    block content</code></pre>
<p><strong>index.pug:</strong></p>
<pre><code>extends layout

block content
  h1= title
  p Welcome to #{title}</code></pre>
<p><strong>error.pug:</strong></p>
<pre><code>extends layout

block content
  h1= message
  h2= error.status
  pre #{error.stack}</code></pre>
<h2 id="preprocessadors-css">Preprocessadors CSS</h2>
<ul>
<li>PostCSS: <a href="">https://postcss.org/</a>.
<ul>
<li>Autoprefixer: <a href="">https://github.com/postcss/autoprefixer</a>.</li>
</ul></li>
</ul>
<h2 id="refer√®ncies-4">Refer√®ncies</h2>
<ul>
<li>Motors de Plantilles
<ul>
<li>Pug (Jade): <a href="">https://pugjs.org</a></li>
<li>Handlebars: <a href="">https://handlebarsjs.com</a></li>
</ul></li>
</ul>
<hr />
<hr />
<ul>
<li>Frameworks ¬∑ jQuery ¬∑ <a href="http://youmightnotneedjquery.com/">You might not need jQuery</a></li>
</ul>
<footer>
<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="Llic√®ncia de Creative Commons" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" /></a>
</footer>
<script src="/javascripts/jquery-3.3.1.min.js"></script>
<script src="/javascripts/remote_controller.js"></script>
</body>
</html>
